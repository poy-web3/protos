syntax = "proto3";

option go_package = "github.com/poy-web3/protos/s3_service";

message UploadConstImageRequest {
	bytes const_image = 1;
	string yid = 2;
}

message S3Response {
	bool succ = 1;
	string error_message = 2;
}

message UploadIndexImageRequest {
	map<string, bytes> faceid_image = 1;
	string yid = 2;
}

message UpdateIndexImageRequest {
	map<string, bytes> faceid_image = 1;
	string yid = 2;
}

service S3 {
    rpc UploadConstImage(UploadConstImageRequest) returns (S3Response);
	rpc UploadIndexImage(UploadIndexImageRequest) returns (S3Response);
	rpc UpdateIndexImage(UpdateIndexImageRequest) returns (S3Response);
}

// protoc --proto_path=. --go_out=../s3_service --go_opt=paths=source_relative --go-grpc_out=../s3_service --go-grpc_opt=paths=source_relative s3.proto